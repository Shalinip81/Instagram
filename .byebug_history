c
params[:user]
@user
n
c
allid.include?(@user.id)
n
allid
n
@user
n
c
allid.include?(@user.id)
allid
n
@user
n
c
13 in allid
allid
n
@user.id
n
c
13 in allid
allid
@user.id in allid
allid
n
@user
n
c
allid
n
@user
n
c
@user.id in allid
n
@user.id in allid
allid
n
@user.id
@user
n
c
@user
@current_user
@user in @current_user.followees
@user
2 in [6,8,4]
4 in [6,8,4]
allid
n
@user.id
@user
n
c
allid
n
allid
n
@user.id
@user
n
c
allid
n
allid
n
@user
n
params[:user]
c
allid
n
@user
n
c
allid
@user.id
@user.id in allid
allid
n
@user.id
@user
n
params
c
@user.id in ids
ids
@user.id
@user.id in ids
if @user.id in ids
ids
n
@user
n
params
c
ids
n
@user
n
params
c
ids
n
ids
n
@user
n
c
ids
n
c
@user.id
ids
n
@user
n
params
c
cc
c
params[:flag]
params
c
params[:flag]
params
c
n
c
token
c
n
c
token
c
token
c
token
c
token
c
token
c
token
c
token
c
token
c
Relationship.create(follower_id:@followee,followee_id:@follower.id)
@follower.id
@follower
@followee
Relationship.create(follower_id:@followee,followee_id:@follower)
@follower
n
@follower
@followee
n
c
params[:user]
params
c
user.id
f.id
c
manage_path(token: @token, user:f.id)
c
n
f.id
c
link_to(f.id
f.id
manage_path(token: @token, user: f.id)
@followee=f.id
@followee=user
@follower=@current_user
@user
f.id
@followee
user
c
manage_path(token: @token, user: f.id)
user
manage_path(token: @token, user: @user)
@user
manage_path(token: @token, user: f.id)
c
f.id
f
c
f
@current_user.followers
@current_user
@user
user
user.id
c
@user
f.id
c
cc
c
f.id
c
following_id
f.id
c
following_id
c
cc
c
cc
c
cc
c
a.likes.count
a
n
c
a=@post.find(f.id)
a.likes.count
a.likes
a=@post.find(f.id)
a=@post.where(id=f.id)
a=@post.where(@post.id=f.id)
c
a
a=@post
a=@post.current_post
f.id
f
@post
@post.likes
@post
f
n
f
c
f
a.likes
a.like
a.likes
a=f.id
c
@likes_num=@l.likes
@likes_num=@l.likes.count
@likes_num = @post.likes.count
@l.likes.count
@l.like
@l.likes
@l=f.id
